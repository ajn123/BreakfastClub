import{r as a,G as g,j as e,S as f}from"./app-DfunC_VF.js";import j from"./QuestionAnswerForm-D4Nzl1Xc.js";import{A as N}from"./AuthenticatedLayout-CwsFgApT.js";import{m as i}from"./proxy-CfZISyYi.js";import{A as y}from"./index-lIcRVj2g.js";/* empty css            */import"./QuestionHeader-CyV6HBKc.js";import"./QuestionInterface-C6_gNOzD.js";import"./transition-LzhLDHth.js";function G({initialQuestions:l}){const[t,n]=a.useState(0),[s,w]=a.useState(l),[c,v]=a.useState({}),{data:m,setData:d,post:x,processing:u,errors:S}=g({answers:l.map(r=>({question_id:r.id,answer:r.type==="time"?"09:00":"",options:[]}))}),h=()=>{t<s.length-1?n(t+1):b()},p=()=>{t>0&&n(t-1)},b=()=>{x(route("question-answers.store"),{onError:r=>{console.error("Submission errors:",r)}})};return e.jsx(N,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-red-50",children:[e.jsx(f,{title:"Questionnaire - The Breakfast Club"}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[s.length>0&&e.jsxs(i.div,{className:"text-center mb-6 text-2xl font-bold text-orange-500",initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{duration:.3},children:["Question ",t+1," of ",s.length]},t),e.jsx("div",{className:"flex justify-center gap-2 mb-8",children:s.length>0&&s.map((r,o)=>e.jsx("button",{onClick:()=>n(o),className:`w-[30px] h-[30px] rounded-full transition-colors flex items-center justify-center text-sm font-medium ${o===t?"bg-orange-500 text-white":"bg-orange-200 hover:bg-orange-300 text-gray-700"}`,"aria-label":`Go to question ${o+1}`,children:o+1},o))}),Object.keys(c).length>0&&e.jsxs("div",{className:"mb-8 bg-red-50 border-2 border-red-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-red-700 font-semibold mb-2",children:"Please correct the following errors:"}),e.jsx("ul",{className:"list-disc list-inside text-red-600",children:"Fill out all questions to complete your profile."})]}),e.jsx(i.div,{className:"h-1 bg-orange-200 rounded-full mb-12",initial:{width:"0%"},children:e.jsx(i.div,{className:"h-1 bg-orange-500 rounded-full",animate:{width:`${(t+1)/s.length*100}%`}})}),e.jsx(y,{mode:"wait",children:e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white rounded-2xl shadow-xl p-8",children:[s.length>0&&e.jsx(j,{questions:s,currentQuestionIndex:t,data:m,setData:d,handleBack:p,handleNext:h,processing:u}),s.length==0&&e.jsx("div",{className:"mb-8 text-center",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"No questions found"})})]},t)})]})]})})}export{G as default};
